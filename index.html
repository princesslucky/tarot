<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golden Tarot Deluxe</title>
    <style>
        * { box-sizing: border-box; font-family: 'Pretendard', sans-serif; }
        body, html { margin: 0; padding: 0; height: 100vh; background: #ffffff; overflow: hidden; }

        /* 3x3 ì „ì²´ í™”ë©´ ê·¸ë¦¬ë“œ (ê´‘ê³  8ì¹¸ + ë©”ì¸ 1ì¹¸) */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            height: 100vh;
            gap: 10px;
            padding: 10px;
        }

        .ad-space { background: #fdfdfd; border: 1px solid #f0f0f0; border-radius: 20px; display: flex; align-items: center; justify-content: center; color: #ccc; font-size: 12px; }

        /* ì¤‘ì•™ íƒ€ë¡œ ë°•ìŠ¤ */
        .tarot-main {
            grid-column: 2; grid-row: 2;
            background: #fff; border-radius: 30px;
            border: 3px solid #ffd700; padding: 20px;
            display: flex; flex-direction: column;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
            min-width: 360px;
        }

        .title { text-align: center; margin: 0 0 15px 0; color: #222; font-size: 1.3rem; font-weight: bold; }

        /* ì¹´í…Œê³ ë¦¬ 12ê°œ */
        .cat-grid {
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px;
            margin-bottom: 15px;
        }
        .cat-item {
            padding: 12px 5px; border: 1px solid #eee; border-radius: 12px;
            font-size: 12px; text-align: center; cursor: pointer; background: #fff; transition: 0.3s;
        }
        .cat-item.active { background: #ffd700; color: #000; border-color: #ffd700; font-weight: bold; }

        /* ì¹´ë“œ ì„ íƒ 30ê°œ (ë²ˆí˜¸ ê¸°ë°˜) */
        .card-slider {
            display: flex; gap: 6px; overflow-x: auto; padding: 5px; margin-bottom: 15px;
        }
        .card {
            min-width: 40px; height: 60px; background: #f8f9fa; border: 1px solid #eee;
            border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center;
            font-size: 14px; transition: 0.2s;
        }
        .card.active { background: #333; color: #fff; transform: translateY(-5px); }

        button {
            width: 100%; padding: 15px; background: #222; color: #fff;
            border: none; border-radius: 15px; font-weight: bold; cursor: pointer; font-size: 16px;
        }

        #result-box {
            margin-top: 15px; font-size: 14px; line-height: 1.8;
            color: #444; overflow-y: auto; flex-grow: 1;
            padding: 15px; background: #fff9e6; border-radius: 15px;
        }

        .line { display: block; opacity: 0; transform: translateY(10px); transition: all 0.7s ease; margin-bottom: 8px; }
        .line.show { opacity: 1; transform: translateY(0); }

        @media (max-width: 800px) {
            .grid-container { grid-template-columns: 1fr; grid-template-rows: auto; overflow-y: auto; height: auto; }
            .tarot-main { grid-column: 1; min-height: 650px; }
            .ad-space { min-height: 100px; }
        }
    </style>
</head>
<body>

<div class="grid-container">
    <div class="ad-space">AD 1</div><div class="ad-space">AD 2</div><div class="ad-space">AD 3</div>
    <div class="ad-space">AD 4</div>
    
    <div class="tarot-main">
        <h2 class="title">ğŸ† 12ê°œ í…Œë§ˆ ì „ë¬¸ íƒ€ë¡œ</h2>
        <div class="cat-grid" id="catList"></div>
        <div class="card-slider" id="cardGrid"></div>
        <button id="drawBtn" onclick="getResult()">ìš´ì„¸ ê²°ê³¼ ë³´ê¸°</button>
        <div id="result-box">ì£¼ì œì™€ ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”.</div>
    </div>

    <div class="ad-space">AD 5</div>
    <div class="ad-space">AD 6</div><div class="ad-space">AD 7</div><div class="ad-space">AD 8</div>
</div>

<script>
    // 12ê°œ ì¹´í…Œê³ ë¦¬
    const categories = ["ì¬íšŒ", "ì†ë§ˆìŒ", "ê¸ˆì „", "ì·¨ì—…", "ì—°ì• ", "í•©ê²©", "ì´ì§", "ì¸ê°„ê´€ê³„", "ì„±ê³µ", "ê±´ê°•", "ì´ì‚¬", "ìš´ëª…"];
    
    // ì¹´í…Œê³ ë¦¬ë³„ë¡œ 18ê°œì˜ ê³ ìœ í•œ 7ì¤„ ë‹µë³€ ë¡œì§ (íŒ¨í„´í™”)
    function generateAnswer(cat, cardNum) {
        const intro = [
            `${cat}ì— ëŒ€í•œ ìš°ì£¼ì˜ ê¸°ìš´ì´ ë‹¹ì‹ ì˜ ${cardNum}ë²ˆ ì¹´ë“œì— ëª¨ì˜€ìŠµë‹ˆë‹¤.`,
            `ì„ íƒí•˜ì‹  ${cardNum}ë²ˆ ì¹´ë“œëŠ” ${cat}ìš´ì˜ ìƒˆë¡œìš´ ë³€í™”ë¥¼ ì•”ì‹œí•©ë‹ˆë‹¤.`,
            `í˜„ì¬ ë‹¹ì‹ ì˜ ${cat} ìƒí™©ì€ ì¤‘ëŒ€í•œ ì „í™˜ì ì„ ë§ì´í•˜ê³  ìˆìŠµë‹ˆë‹¤.`
        ];
        const body = [
            "í˜„ì¬ì˜ íë¦„ì€ ê²‰ë³´ê¸°ì™€ ë‹¬ë¦¬ ë‚´ë©´ì—ì„œ í° ì„±ì¥ì´ ì¼ì–´ë‚˜ê³  ìˆìŠµë‹ˆë‹¤.",
            "ì˜ˆìƒì¹˜ ëª»í•œ ê·€ì¸ì˜ ë“±ì¥ìœ¼ë¡œ ë§‰í˜”ë˜ ê¸°ìš´ì´ í’€ë¦¬ê¸° ì‹œì‘í•  ê²ƒì…ë‹ˆë‹¤.",
            "ìŠ¤ìŠ¤ë¡œì— ëŒ€í•œ ë¯¿ìŒì´ ë¶€ì¡±í•˜ë‹¤ë©´ ì§€ê¸ˆ ë°”ë¡œ ìì‹ ê°ì„ íšŒë³µí•´ì•¼ í•©ë‹ˆë‹¤.",
            "ê³¼ê±°ì˜ ê¸°ì–µì— ë¨¸ë¬¼ê¸°ë³´ë‹¤ ë‹¤ê°€ì˜¬ ë°ì€ ë¯¸ë˜ì— ì§‘ì¤‘í•  ì‹œê¸°ì…ë‹ˆë‹¤.",
            "ë¬´ì—‡ë³´ë‹¤ ë§ˆìŒì˜ í‰ì˜¨ì„ ìœ ì§€í•˜ëŠ” ê²ƒì´ ìš´ì„ ëŒì–´ë‹¹ê¸°ëŠ” í•µì‹¬ì…ë‹ˆë‹¤."
        ];
        const advice = [
            "ì•ìœ¼ë¡œ ë©°ì¹  ì´ë‚´ì— ë‹¹ì‹ ì„ ì›ƒê²Œ í•  ê¸°ë¶„ ì¢‹ì€ ì†Œì‹ì´ ë„ì°©í•©ë‹ˆë‹¤.",
            "ì£¼ë³€ì˜ ì†ŒìŒë³´ë‹¤ëŠ” ë‹¹ì‹ ì˜ ì§ê´€ì´ ê°€ë¦¬í‚¤ëŠ” ë°©í–¥ì„ ë”°ë¼ê°€ì„¸ìš”.",
            "í–‰ìš´ì˜ ìƒì§•ì¸ ê¸ˆìƒ‰ ì†Œí’ˆì´ ë‹¹ì‹ ì˜ ê¸°ìš´ì„ ë”ìš± ë¶ë‹ì•„ ì¤„ ê²ƒì…ë‹ˆë‹¤."
        ];
        const conclusion = [
            "ê²°êµ­ ëª¨ë“  ì¼ì€ ë‹¹ì‹ ì´ ë°”ë¼ëŠ” ìµœì„ ì˜ ê²°ê³¼ë¡œ ë§¤ë“­ì§€ì–´ì§ˆ ê²ƒì…ë‹ˆë‹¤.",
            "ë‹¹ì‹ ì€ í–‰ë³µí•´ì§ˆ ìê²©ì´ ì¶©ë¶„í•œ ì‚¬ëŒì„ì„ ìŠì§€ ë§ˆì‹œê¸° ë°”ëë‹ˆë‹¤.",
            "ìš°ì£¼ëŠ” ì–¸ì œë‚˜ ë‹¹ì‹ ì˜ í¸ì—ì„œ ê°€ì¥ ì¢‹ì€ ê¸¸ì„ ì˜ˆë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤."
        ];

        // 7ì¤„ ì¡°í•© (ëœë¤/ê³ ìœ  ì¸ë±ìŠ¤ ì‚¬ìš©)
        const seed = (categories.indexOf(cat) + cardNum);
        return [
            intro[seed % 3],
            body[seed % 5],
            body[(seed + 1) % 5],
            "ì§€ê¸ˆ ì´ ìˆœê°„ì˜ ì„ íƒì´ ë¯¸ë˜ì˜ í° ê²°ì‹¤ë¡œ ì´ì–´ì§€ëŠ” ì¤‘ìš”í•œ ê¸¸ëª©ì…ë‹ˆë‹¤.",
            advice[seed % 3],
            conclusion[seed % 3],
            `ë‹¹ì‹ ì˜ ${cat}ìš´ì€ ì´ì œ ë³´ë¦„ë‹¬ì²˜ëŸ¼ í™˜í•˜ê²Œ ì°¨ì˜¤ë¥¼ ì¤€ë¹„ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤.`
        ];
    }

    // UI ì´ˆê¸°í™”
    let selectedCat = "";
    let selectedCard = null;

    const catList = document.getElementById('catList');
    categories.forEach(name => {
        const div = document.createElement('div');
        div.className = 'cat-item'; div.innerText = name;
        div.onclick = function() {
            document.querySelectorAll('.cat-item').forEach(i => i.classList.remove('active'));
            this.classList.add('active'); selectedCat = name;
        };
        catList.appendChild(div);
    });

    const cardGrid = document.getElementById('cardGrid');
    for(let i=1; i<=30; i++) {
        const div = document.createElement('div');
        div.className = 'card'; div.innerText = i;
        div.onclick = function() {
            document.querySelectorAll('.card').forEach(c => c.classList.remove('active'));
            this.classList.add('active'); selectedCard = i;
        };
        cardGrid.appendChild(div);
    }

    function getResult() {
        const resBox = document.getElementById('result-box');
        const btn = document.getElementById('drawBtn');
        if(!selectedCat || selectedCard === null) return alert("ì£¼ì œì™€ ì¹´ë“œë¥¼ ê³¨ë¼ì£¼ì„¸ìš”!");

        btn.disabled = true;
        resBox.innerHTML = "";
        
        const lines = generateAnswer(selectedCat, selectedCard);
        
        lines.forEach((text, index) => {
            const lineSpan = document.createElement('span');
            lineSpan.className = 'line';
            lineSpan.innerText = `${index + 1}. ${text}`;
            resBox.appendChild(lineSpan);
            setTimeout(() => {
                lineSpan.classList.add('show');
                resBox.scrollTop = resBox.scrollHeight;
                if(index === lines.length - 1) btn.disabled = false;
            }, index * 800);
        });
    }
</script>
</body>
</html>
